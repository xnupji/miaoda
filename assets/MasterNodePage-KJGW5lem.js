import{c as j,u as F,a as E,r as a,j as e,N as H,B as x,W as D,b as r,t}from"./index-Ba4E4pES.js";import{C as i,b as m,c as h,a as o,d as B}from"./card-92zAm1__.js";import{P as O}from"./progress-GUth3w46.js";import{A as l,a as c}from"./alert-2kNw2UIY.js";import{D as U,a as $,b as q,c as I,d as R,e as X}from"./dialog-Bon2pnkF.js";import{d as G,e as J,u as K}from"./api-DByx_AdG.js";import{L as u}from"./loader-circle-DvYxkd0y.js";/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],M=j("award",Q);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Y=j("circle-check-big",V);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ee=j("circle-x",Z);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ae=j("clock",se);function oe(){const{profile:g,refreshProfile:N}=F(),{account:p,isConnected:b,connectWallet:A,isCorrectNetwork:d}=E(),[s,L]=a.useState(null),[z,f]=a.useState(!0),[w,y]=a.useState(!1),[v,C]=a.useState(!1),[P,k]=a.useState(!1);a.useEffect(()=>{_()},[]);const _=async()=>{f(!0);const n=await G();L(n),f(!1)},T=async()=>{y(!0);const n=await J();y(!1),n?(t.success("主节点申请已提交，等待管理员审核"),await _(),await N()):t.error("申请失败，请稍后重试")},W=async()=>{if(!b||!p){t.error("请先连接钱包");return}if(!d){t.error("请切换到BSC网络");return}C(!0);const n=await K({wallet_address:p});C(!1),n?(t.success("钱包地址绑定成功！"),await N(),k(!1)):t.error("绑定失败，请稍后重试")},S=s&&s.target_wallets>0?s.activated_wallets/s.target_wallets*100:0;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold gradient-text",children:"主节点系统"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"成为主节点，获得更多奖励"})]}),e.jsxs(i,{className:"glow-border-strong",children:[e.jsx(m,{children:e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(H,{className:"w-6 h-6 text-primary"}),"什么是主节点？"]})}),e.jsxs(o,{className:"space-y-4",children:[e.jsx("p",{className:"text-muted-foreground",children:"主节点是HTP挖矿平台的核心推广者，帮助平台完成用户积载任务，获得丰厚奖励。"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-accent/30 border border-border",children:[e.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[e.jsx(M,{className:"w-5 h-5 text-primary"}),"任务目标"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"完成 100,000 个钱包地址激活"})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-accent/30 border border-border",children:[e.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[e.jsx(M,{className:"w-5 h-5 text-primary"}),"奖励机制"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"每激活 1 个地址奖励 3 USDT"})]})]}),e.jsx(l,{children:e.jsxs(c,{children:[e.jsx("strong",{children:"注意："}),"主节点申请需要管理员审核，审核通过后即可开始推广任务。"]})})]})]}),z?e.jsx(i,{children:e.jsx(o,{className:"flex justify-center py-12",children:e.jsx(u,{className:"w-8 h-8 animate-spin text-primary"})})}):s?e.jsxs(e.Fragment,{children:[e.jsxs(i,{className:"glow-border",children:[e.jsx(m,{children:e.jsxs(h,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"申请状态"}),s.status==="pending"&&e.jsxs(r,{variant:"secondary",className:"bg-yellow-500/10 text-yellow-500",children:[e.jsx(ae,{className:"w-3 h-3 mr-1"}),"审核中"]}),s.status==="approved"&&e.jsxs(r,{variant:"secondary",className:"bg-green-500/10 text-green-500",children:[e.jsx(Y,{className:"w-3 h-3 mr-1"}),"已通过"]}),s.status==="rejected"&&e.jsxs(r,{variant:"secondary",className:"bg-red-500/10 text-red-500",children:[e.jsx(ee,{className:"w-3 h-3 mr-1"}),"已拒绝"]})]})}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"申请时间"}),e.jsx("p",{className:"font-medium",children:new Date(s.applied_at).toLocaleString("zh-CN")})]}),s.reviewed_at&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"审核时间"}),e.jsx("p",{className:"font-medium",children:new Date(s.reviewed_at).toLocaleString("zh-CN")})]})]}),s.status==="pending"&&e.jsx(l,{children:e.jsx(c,{children:"您的申请正在审核中，请耐心等待管理员处理。"})}),s.status==="rejected"&&e.jsx(l,{variant:"destructive",children:e.jsx(c,{children:"很抱歉，您的申请未通过审核。您可以重新提交申请。"})})]})]}),s.status==="approved"&&e.jsx(e.Fragment,{children:e.jsxs(i,{className:"glow-border-strong",children:[e.jsxs(m,{children:[e.jsx(h,{children:"推广进度"}),e.jsx(B,{children:"完成目标即可获得全部奖励"})]}),e.jsxs(o,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{children:"已激活钱包地址"}),e.jsxs("span",{className:"font-medium",children:[s.activated_wallets.toLocaleString()," / ",s.target_wallets.toLocaleString()]})]}),e.jsx(O,{value:S,className:"h-3"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["完成度：",S.toFixed(2),"%"]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-accent/30 border border-border",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"已激活"}),e.jsx("p",{className:"text-2xl font-bold text-primary",children:s.activated_wallets.toLocaleString()})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-accent/30 border border-border",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"剩余目标"}),e.jsx("p",{className:"text-2xl font-bold",children:(s.target_wallets-s.activated_wallets).toLocaleString()})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-accent/30 border border-border",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"累计奖励"}),e.jsxs("p",{className:"text-2xl font-bold text-green-500",children:[s.total_rewards.toFixed(2)," USDT"]})]})]}),e.jsx(l,{children:e.jsxs(c,{children:[e.jsx("strong",{children:"提示："}),"每激活1个钱包地址，您将获得3 USDT奖励，奖励将自动发放到您的账户。"]})})]})]})})]}):e.jsxs(i,{className:"glow-border",children:[e.jsxs(m,{children:[e.jsx(h,{children:"申请主节点"}),e.jsx(B,{children:"提交申请成为主节点，开启推广之旅"})]}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-accent/50 border border-border",children:[e.jsx("h4",{className:"font-medium mb-2",children:"申请条件"}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsx("li",{children:"✓ 已完成账户注册"}),e.jsx("li",{children:"✓ 已绑定钱包地址"}),e.jsx("li",{children:"✓ 承诺完成推广任务"})]})]}),g!=null&&g.wallet_address?e.jsxs(x,{onClick:T,disabled:w,className:"w-full hover-glow",size:"lg",children:[w&&e.jsx(u,{className:"mr-2 h-4 w-4 animate-spin"}),"提交申请"]}):e.jsxs(U,{open:P,onOpenChange:k,children:[e.jsx($,{asChild:!0,children:e.jsxs(x,{className:"w-full hover-glow",size:"lg",children:[e.jsx(D,{className:"mr-2 h-5 w-5"}),"绑定钱包地址"]})}),e.jsxs(q,{children:[e.jsxs(I,{children:[e.jsx(R,{children:"绑定钱包地址"}),e.jsx(X,{children:"连接您的MetaMask钱包并绑定地址，绑定后才能申请主节点"})]}),e.jsx("div",{className:"space-y-4",children:b?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-accent/30 border border-border",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"连接状态"}),e.jsxs(r,{variant:"secondary",className:"bg-green-500/10 text-green-500",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse mr-2"}),"已连接"]})]}),e.jsx("p",{className:"font-mono text-sm break-all",children:p})]}),e.jsx("div",{className:"p-4 rounded-lg bg-accent/30 border border-border",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"网络"}),d?e.jsx(r,{variant:"secondary",className:"bg-green-500/10 text-green-500",children:"BSC网络"}):e.jsx(r,{variant:"secondary",className:"bg-red-500/10 text-red-500",children:"错误网络"})]})}),!d&&e.jsx(l,{variant:"destructive",children:e.jsx(c,{children:"请在MetaMask中切换到BSC（Binance Smart Chain）网络"})}),e.jsxs(x,{onClick:W,disabled:!d||v,className:"w-full hover-glow",size:"lg",children:[v&&e.jsx(u,{className:"mr-2 h-4 w-4 animate-spin"}),d?"确认绑定":"请切换到BSC网络"]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx(l,{children:e.jsx(c,{children:"请先连接您的MetaMask钱包到BSC网络"})}),e.jsxs(x,{onClick:A,className:"w-full hover-glow",size:"lg",children:[e.jsx(D,{className:"w-5 h-5 mr-2"}),"连接MetaMask钱包"]})]})})]})]})]})]})]})}export{oe as default};
