import{r as c,j as e,S as N,b as f}from"./index-Cn_29fsw.js";import{C as t,b as d,c as r,a as l,d as p,L as b}from"./card-CiSmHLqO.js";import{T as y,a as T,b as o,c as i,d as C,e as n}from"./table-C7D8WiKu.js";import{g as v}from"./api-mmq8av95.js";function R(){const[a,h]=c.useState([]),[j,x]=c.useState(!0);c.useEffect(()=>{g()},[]);const g=async()=>{x(!0);const s=await v(100);h(s),x(!1)},m=a.reduce((s,u)=>s+u.amount,0);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold gradient-text",children:"挖矿记录"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"查看您的所有挖矿历史记录"})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs(t,{className:"glow-border",children:[e.jsx(d,{className:"pb-2",children:e.jsx(r,{className:"text-sm font-medium",children:"总挖矿次数"})}),e.jsx(l,{children:e.jsx("div",{className:"text-2xl font-bold",children:a.length})})]}),e.jsxs(t,{className:"glow-border",children:[e.jsx(d,{className:"pb-2",children:e.jsx(r,{className:"text-sm font-medium",children:"累计挖矿收益"})}),e.jsx(l,{children:e.jsxs("div",{className:"text-2xl font-bold text-primary",children:[m.toFixed(2)," HTP"]})})]}),e.jsxs(t,{className:"glow-border",children:[e.jsx(d,{className:"pb-2",children:e.jsx(r,{className:"text-sm font-medium",children:"平均每次收益"})}),e.jsx(l,{children:e.jsxs("div",{className:"text-2xl font-bold",children:[a.length>0?(m/a.length).toFixed(2):"0.00"," HTP"]})})]})]}),e.jsxs(t,{children:[e.jsxs(d,{children:[e.jsx(r,{children:"挖矿历史"}),e.jsx(p,{children:"所有挖矿记录按时间倒序排列"})]}),e.jsx(l,{children:j?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(b,{className:"w-8 h-8 animate-spin text-primary"})}):a.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(N,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"暂无挖矿记录"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"前往仪表盘开始您的第一次挖矿"})]}):e.jsx("div",{className:"rounded-md border",children:e.jsxs(y,{children:[e.jsx(T,{children:e.jsxs(o,{children:[e.jsx(i,{children:"日期"}),e.jsx(i,{children:"挖矿时间"}),e.jsx(i,{className:"text-right",children:"收益 (HTP)"}),e.jsx(i,{className:"text-right",children:"状态"})]})}),e.jsx(C,{children:a.map(s=>e.jsxs(o,{children:[e.jsx(n,{className:"font-medium",children:new Date(s.mining_date).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"})}),e.jsx(n,{className:"text-muted-foreground",children:new Date(s.created_at).toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"})}),e.jsxs(n,{className:"text-right font-bold text-primary",children:["+",s.amount.toFixed(2)]}),e.jsx(n,{className:"text-right",children:e.jsx(f,{variant:"secondary",className:"bg-green-500/10 text-green-500",children:"已完成"})})]},s.id))})]})})})]})]})}export{R as default};
